<html>
  <head>
    <style>
      canvas {
        width: 600px;
        height: 400px;
      }
    </style>
    <script src="https://rawgithub.com/mrdoob/three.js/master/build/three.js"></script>
  </head>
  <body>
    <script>
      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, .01, 1000);
      
      
      camera.position.z = 50;
      camera.lookAt(new THREE.Vector3(1,0,0));
      
      var renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      
      document.body.appendChild(renderer.domElement);
            
      var Node = function (position) {
        this.geometry = new THREE.SphereGeometry(1, 20, 20);
        this.material = new THREE.MeshBasicMaterial({ color: 0xff0000 });
        this.mesh = new THREE.Mesh(this.geometry, this.material);
        this.mesh.position = position;
        this.destination = Node.calcRandomPosition();
        console.log("Node added");
      }
      
      Node.calcRandomPosition = function () {
        return {
          x: Math.random() * 25, 
          y: Math.random() * 25, 
          z: Math.random() * 25
        }
      }
      
      Node.prototype.position = function () {
        return this.mesh.position;
      };
      
      Node.prototype.changeDestination = function () {
        this.destination = Node.calcRandomPosition();
      };
      
      Node.prototype.moveToDestination = function (increment) {
        var curPos = this.mesh.position;
        
        this.mesh.position.x += (this.destination.x - curPos.x) / 20;
        this.mesh.position.y += (this.destination.y - curPos.y) / 20;
        this.mesh.position.z += (this.destination.z - curPos.z) / 20;
      };
      
      Node.prototype._distanceToDestination = function () {
        var curPos = this.mesh.position;
        
        var distanceX = this.destination.x - curPos.x;
        var distanceY = this.destination.y - curPos.y;
        var distanceZ = this.destination.z - curPos.z;
        
        var squaredSum = Math.pow(distanceX, 2) + Math.pow(distanceY, 2) + Math.pow(distanceZ, 2);
        
        return Math.sqrt(squaredSum)
      }
      
      var nodes = [];
      
      for(var i = 0; i < 25; i++) {
        var position = Node.calcRandomPosition();
        nodes.push(new Node(position));
      }
      
      nodes.forEach(function (node) {
        scene.add(node.mesh);
      });
      
      function moveNodes (nodes) {
        nodes.forEach(function (node) {
          node.moveToDestination();
          if(node._distanceToDestination() < 2) {
            node.changeDestination();
          }
        });
      }
      
      
      function render () {
        requestAnimationFrame(render);
        moveNodes(nodes);
        renderer.render(scene, camera);
      }
      
      render();
    </script>
  </body>
</html>